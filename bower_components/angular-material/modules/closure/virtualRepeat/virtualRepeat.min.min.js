/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
;function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function(a,b){a.addClass("md-virtual-repeat-container").addClass(b.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function virtualRepeatContainerTemplate(a){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+a[0].innerHTML+"</div></div>"}function VirtualRepeatContainerController(b,d,a,c){this.$scope=d,this.$element=a,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.scroller=a[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0],b(angular.bind(this,this.updateSize)),c.ngHide&&d.$watch(c.ngHide,angular.bind(this,function(f){f||b(angular.bind(this,this.updateSize))}))}function VirtualRepeatDirective(a){return{controller:VirtualRepeatController,priority:1000,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(g,c){var f=c.mdVirtualRepeat,d=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),j=d[1],h=a(d[2]),b=c.mdExtraName&&a(c.mdExtraName);return function(l,o,k,n,m){n[0].link_(n[1],m,j,h,b)}}}}function VirtualRepeatController(b,f,a,d,c,g){this.$scope=b,this.$element=f,this.$attrs=a,this.$browser=d,this.$document=c,this.$$rAF=g,this.onDemand=a.hasOwnProperty("mdOnDemand"),this.browserCheckUrlChange=d.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=b.$eval(a.mdItemSize)||null,this.isFirstRender=!0,this.itemsLength=0,this.unwatchItemSize_=angular.noop,this.blocks={},this.pooledBlocks=[]}function VirtualRepeatModelArrayLike(a){if(!angular.isFunction(a.getItemAtIndex)||!angular.isFunction(a.getLength)){throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ")}this.model=a}function abstractMethod(){throw Error("Non-overridden abstract method called.")}goog.provide("ng.material.components.virtualRepeat"),goog.require("ng.material.core"),angular.module("material.components.virtualRepeat",["material.core"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective);var MAX_ELEMENT_SIZE=1533917,NUM_EXTRA=3;VirtualRepeatContainerController.$inject=["$$rAF","$scope","$element","$attrs"],VirtualRepeatContainerController.prototype.register=function(a){this.repeater=a,angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))},VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal},VirtualRepeatContainerController.prototype.getSize=function(){return this.size},VirtualRepeatContainerController.prototype.setSize_=function(a){this.size=a,this.$element[0].style[this.isHorizontal()?"width":"height"]=a+"px"},VirtualRepeatContainerController.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.repeater&&this.repeater.containerUpdated())},VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize},VirtualRepeatContainerController.prototype.sizeScroller_=function(b){var f=this.isHorizontal()?"width":"height",a=this.isHorizontal()?"height":"width";if(MAX_ELEMENT_SIZE>b){this.sizer.style[f]=b+"px"}else{this.sizer.innerHTML="",this.sizer.style[f]="auto",this.sizer.style[a]="auto";var d=Math.floor(b/MAX_ELEMENT_SIZE),c=document.createElement("div");c.style[f]=MAX_ELEMENT_SIZE+"px",c.style[a]="1px";for(var g=0;d>g;g++){this.sizer.appendChild(c.cloneNode(!1))}c.style[f]=b-d*MAX_ELEMENT_SIZE+"px",this.sizer.appendChild(c)}},VirtualRepeatContainerController.prototype.autoShrink_=function(a){var b=Math.max(a,this.autoShrinkMin*this.repeater.getItemSize());this.autoShrink&&b!==this.size&&(b<(this.originalSize||this.size)?(this.originalSize||(this.originalSize=this.size),this.setSize_(b)):this.originalSize&&(this.setSize_(this.originalSize),this.originalSize=null))},VirtualRepeatContainerController.prototype.setScrollSize=function(a){var b=a+this.offsetSize;this.scrollSize!==b&&(this.sizeScroller_(b),this.autoShrink_(b),this.scrollSize=b)},VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset},VirtualRepeatContainerController.prototype.scrollTo=function(a){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=a,this.handleScroll_()},VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)},VirtualRepeatContainerController.prototype.handleScroll_=function(){var b=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(b!==this.scrollOffset){var d=this.repeater.getItemSize();if(d){var a=Math.max(0,Math.floor(b/d)-NUM_EXTRA),c=this.isHorizontal()?"translateX(":"translateY(";c+=a*d+"px)",this.scrollOffset=b,this.offsetter.style.webkitTransform=c,this.offsetter.style.transform=c,this.repeater.containerUpdated()}}},VirtualRepeatDirective.$inject=["$parse"],VirtualRepeatController.$inject=["$scope","$element","$attrs","$browser","$document","$$rAF"],VirtualRepeatController.Block,VirtualRepeatController.prototype.link_=function(b,f,a,d,c){this.container=b,this.transclude=f,this.repeatName=a,this.rawRepeatListExpression=d,this.extraName=c,this.sized=!1,this.repeatListExpression=angular.bind(this,this.repeatListExpression_),this.container.register(this)},VirtualRepeatController.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var a=this.getBlock_(0);a.element[0].parentNode||this.parentNode.appendChild(a.element[0]),this.itemSize=a.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=a,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},VirtualRepeatController.prototype.repeatListExpression_=function(b){var c=this.rawRepeatListExpression(b);if(this.onDemand&&c){var a=new VirtualRepeatModelArrayLike(c);return a.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),a}return c},VirtualRepeatController.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,this.virtualRepeatUpdate_))),this.updateIndexes_(),void ((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof VirtualRepeatModelArrayLike&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(a){a&&a.length&&this.$$rAF(angular.bind(this,this.readItemSize_))})),void (this.$scope.$root.$$phase||this.$scope.$digest()))},VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize},VirtualRepeatController.prototype.virtualRepeatUpdate_=function(p,k){var g=p?p.length:0,b=!1;if(g!==this.itemsLength&&(b=!0,this.itemsLength=g),this.items&&g<this.items.length&&0!==this.container.getScrollOffset()){return this.items=p,void this.container.resetScroll()}if(this.items=p,(p!==k||b)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,b&&this.container.setScrollSize(g*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var q=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):0;this.container.scrollTo(q*this.itemSize)}Object.keys(this.blocks).forEach(function(a){var h=parseInt(a,10);(h<this.newStartIndex||h>=this.newEndIndex)&&this.poolBlock_(h)},this),this.$browser.$$checkUrlChange=angular.noop;var d,c,m=[],f=[];for(d=this.newStartIndex;d<this.newEndIndex&&null==this.blocks[d];d++){c=this.getBlock_(d),this.updateBlock_(c,d),m.push(c)}for(;null!=this.blocks[d];d++){this.updateBlock_(this.blocks[d],d)}for(var j=d-1;d<this.newEndIndex;d++){c=this.getBlock_(d),this.updateBlock_(c,d),f.push(c)}m.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(m),this.$element[0].nextSibling),f.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(f),this.blocks[j]&&this.blocks[j].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex},VirtualRepeatController.prototype.getBlock_=function(a){if(this.pooledBlocks.length){return this.pooledBlocks.pop()}var b;return this.transclude(angular.bind(this,function(c,d){b={element:c,"new":!0,scope:d},this.updateScope_(d,a),this.parentNode.appendChild(c[0])})),b},VirtualRepeatController.prototype.updateBlock_=function(a,b){this.blocks[b]=a,(a["new"]||a.scope.$index!==b||a.scope[this.repeatName]!==this.items[b])&&(a["new"]=!1,this.updateScope_(a.scope,b),this.$scope.$root.$$phase||a.scope.$digest())},VirtualRepeatController.prototype.updateScope_=function(a,b){a.$index=b,a[this.repeatName]=this.items&&this.items[b],this.extraName&&(a[this.extraName(this.$scope)]=this.items[b])},VirtualRepeatController.prototype.poolBlock_=function(a){this.pooledBlocks.push(this.blocks[a]),this.parentNode.removeChild(this.blocks[a].element[0]),delete this.blocks[a]},VirtualRepeatController.prototype.domFragmentFromBlocks_=function(a){var b=this.$document[0].createDocumentFragment();return a.forEach(function(c){b.appendChild(c.element[0])}),b},VirtualRepeatController.prototype.updateIndexes_=function(){var a=this.items?this.items.length:0,b=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(a-b,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+b+NUM_EXTRA,this.newEndIndex=Math.min(a,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-NUM_EXTRA)},VirtualRepeatModelArrayLike.prototype.$$includeIndexes=function(b,c){for(var a=b;c>a;a++){this.hasOwnProperty(a)||(this[a]=this.model.getItemAtIndex(a))}this.length=this.model.getLength()},ng.material.components.virtualRepeat=angular.module("material.components.virtualRepeat");