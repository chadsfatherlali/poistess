/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.2-master-71674b0
 */
;goog.provide("ng.material.components.tooltip");goog.require("ng.material.core");angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",MdTooltipDirective);function MdTooltipDirective(d,c,k,e,b,f,l,j,i){var h=300;var a=8;return{restrict:"E",transclude:true,priority:210,template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:g};function g(n,o,w){f(o);var s=t(),D=angular.element(o[0].getElementsByClassName("md-background")[0]),x=angular.element(o[0].getElementsByClassName("md-content")[0]),F=w.mdDirection,v=y(),G=angular.element(v||document.body),z=k.throttle(function(){if(n.visible){H()}});u();A();m();q();C();function u(){if(!angular.isDefined(w.mdDelay)){n.delay=h}}function q(){n.$on("$destroy",function(){n.visible=false;o.remove();angular.element(c).off("resize",z)});n.$watch("visible",function(I){if(I){p()}else{r()}})}function C(){if(!s.attr("aria-label")&&!s.text().trim()){s.attr("aria-label",o.text().trim())}}function A(){o.detach();o.attr("role","tooltip")}function t(){var I=o.parent();while(E("pointer-events","none",I)){I=I.parent()}return I}function y(){var I=o.parent()[0];while(I&&I!==l[0]&&I!==document.body){I=I.parentNode}return I}function E(J,L,M){var I=false;if(M&&M.length){J=w.$normalize(J);M=M[0]||o[0];var K=c.getComputedStyle(M);I=angular.isDefined(K[J])&&(K[J]==L)}return I}function m(){var M=false;var I=angular.element(c);var K=function(){J=document.activeElement===s[0]};var J=false;I.on("blur",K);n.$on("$destroy",function(){I.off("blur",K)});var N=function(O){if(O.type==="focus"&&J){J=false;return}s.on("blur mouseleave touchend touchcancel",L);B(true)};var L=function(){var O=n.hasOwnProperty("autohide")?n.autohide:w.hasOwnProperty("mdAutohide");if(O||M||(e[0].activeElement!==s[0])){s.off("blur mouseleave touchend touchcancel",L);s.triggerHandler("blur");B(false)}M=false};s.on("mousedown",function(){M=true});s.on("focus mouseenter touchstart",N);angular.element(c).on("resize",z)}function B(I){B.value=!!I;if(!B.queued){if(I){B.queued=true;d(function(){n.visible=B.value;B.queued=false},n.delay)}else{b.nextTick(function(){n.visible=false})}}}function p(){G.append(o);if(E("display","none")){n.visible=false;o.detach();return}H();angular.forEach([o,D,x],function(I){j.addClass(I,"md-show")})}function r(){var I=[];angular.forEach([o,D,x],function(J){if(J.parent()&&J.hasClass("md-show")){I.push(j.removeClass(J,"md-show"))}});i.all(I).then(function(){if(!n.visible){o.detach()}})}function H(){var N=b.offsetRect(o,G);var I=b.offsetRect(s,G);var J=K(F);if(F){J=L(J)}else{if(J.top>o.prop("offsetParent").scrollHeight-N.height-a){J=L(K("top"))}}o.css({top:J.top+"px",left:J.left+"px"});M();function M(){var P=F==="left"||F==="right"?Math.sqrt(Math.pow(N.width,2)+Math.pow(N.height/2,2))*2:Math.sqrt(Math.pow(N.width/2,2)+Math.pow(N.height,2))*2,O=F==="left"?{left:100,top:50}:F==="right"?{left:0,top:50}:F==="top"?{left:50,top:100}:{left:50,top:0};D.css({width:P+"px",height:P+"px",left:O.left+"%",top:O.top+"%"})}function L(P){var O={left:P.left,top:P.top};O.left=Math.min(O.left,G.prop("scrollWidth")-N.width-a);O.left=Math.max(O.left,a);O.top=Math.min(O.top,G.prop("scrollHeight")-N.height-a);O.top=Math.max(O.top,a);return O}function K(O){return O==="left"?{left:I.left-N.width-a,top:I.top+I.height/2-N.height/2}:O==="right"?{left:I.left+I.width+a,top:I.top+I.height/2-N.height/2}:O==="top"?{left:I.left+I.width/2-N.width/2,top:I.top-N.height-a}:{left:I.left+I.width/2-N.width/2,top:I.top+I.height+a}}}}}MdTooltipDirective.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"];ng.material.components.tooltip=angular.module("material.components.tooltip");