/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
;goog.provide("ng.material.components.dialog");goog.require("ng.material.components.backdrop");goog.require("ng.material.core");angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);function MdDialogDirective(d,e,f){return{restrict:"E",link:function(a,b,c){e(b);d(function(){var l;var k=b[0].querySelector("md-dialog-content");if(k){l=k.getElementsByTagName("img");j();angular.element(l).on("load",j)}a.$on("$destroy",function(){f.destroy()});function j(){b.toggleClass("md-content-overflow",k.scrollHeight>k.clientHeight)}})}}}MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"];function MdDialogProvider(f){e.$inject=["$mdDialog","$mdTheming"];d.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement"];return f("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:d}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme","css"],options:e}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme","css"],options:e});function e(a,c){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" class="{{ dialog.css }}">',' <md-dialog-content role="document" tabIndex="-1">','   <h2 class="md-title">{{ dialog.title }}</h2>','   <div class="md-dialog-content-body" md-template="::dialog.mdContent"></div>'," </md-dialog-content>",' <div class="md-actions">','   <md-button ng-if="dialog.$type == \'confirm\'"     ng-click="dialog.abort()" class="md-primary">',"     {{ dialog.cancel }}","   </md-button>",'   <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"     {{ dialog.ok }}","   </md-button>"," </div>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function b(){this.hide=function(){a.hide(true)};this.abort=function(){a.cancel()}},controllerAs:"dialog",bindToController:true,theme:c.defaultTheme()}}function d(L,x,C,E,b,a,B,I){return{hasBackdrop:true,isolateScope:true,onShow:y,onRemove:H,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,focusOnOpen:true,disableParentScroll:true,transformTemplate:function(h){return'<div class="md-dialog-container">'+g(h)+"</div>";function g(i){i||"";return/<\/md-dialog>/g.test(i)?i:"<md-dialog>"+i+"</md-dialog>"}}};function y(h,j,g,i){angular.element(a[0].body).addClass("md-dialog-is-showing");k();c(j,g);A(j.find("md-dialog"),g);K(h,j,g);return z(j,g).then(function(){F(j,g);J(j,g);l()});function l(){if(g.focusOnOpen){var m=C.findFocusTarget(j)||n();m.focus()}function n(){var p=j[0].querySelector(".dialog-close");if(!p){var o=j[0].querySelectorAll(".md-actions button");p=o[o.length-1]}return angular.element(p)}}function k(){if(i){var m=/<\/[\w-]*>/gm;var o=i.content||g.content||"";var n=m.test(o);if(!n){o=C.supplant("<p>{0}</p>",[o])}i.mdContent=o}}}function H(j,k,h){h.deactivateListeners();h.unlockScreenReader();h.hideBackdrop(h.$destroy);return !!h.$destroy?i():g().then(i);function g(){return w(k,h)}function i(){angular.element(a[0].body).removeClass("md-dialog-is-showing");k.remove();if(!h.$destroy){h.origin.focus()}}}function c(k,h){h.origin=angular.extend({element:null,bounds:null,focus:angular.noop},h.origin||{});var j=angular.element((h.targetEvent||{}).target);if(j&&j.length){h.origin.element=j;h.origin.bounds=j[0].getBoundingClientRect();h.origin.focus=function(){j.focus()}}if(angular.isString(h.parent)){var g=h.parent,i=a[0].querySelectorAll(g);h.parent=i.length?i[0]:null}h.parent=angular.element(h.parent||I)}function F(m,o){var j=angular.element(B);var h=C.debounce(function(){D(m,o)},60);var l=[];var n=function(){var p=(o.$type=="alert")?L.hide:L.cancel;C.nextTick(p,true)};if(o.escapeToClose){var k=o.parent;var g=function(p){if(p.keyCode===E.KEY_CODE.ESCAPE){p.stopPropagation();p.preventDefault();n()}};m.on("keyup",g);k.on("keyup",g);j.on("resize",h);l.push(function(){m.off("keyup",g);k.off("keyup",g);j.off("resize",h)})}if(o.clickOutsideToClose){var k=m;var i=function(p){if(p.target===k[0]){p.stopPropagation();p.preventDefault();n()}};k.on("click",i);l.push(function(){k.off("click",i)})}o.deactivateListeners=function(){l.forEach(function(p){p()});o.deactivateListeners=null}}function K(i,j,g){if(g.disableParentScroll){g.restoreScroll=C.disableScrollAround(j,g.parent)}if(g.hasBackdrop){g.backdrop=C.createBackdrop(i,"md-dialog-backdrop md-opaque");b.enter(g.backdrop,g.parent)}g.hideBackdrop=function h(k){if(g.backdrop){if(!!k){g.backdrop.remove()}else{b.leave(g.backdrop)}}if(g.disableParentScroll){g.restoreScroll();delete g.restoreScroll}g.hideBackdrop=null}}function A(k,h){var g=(h.$type==="alert")?"alertdialog":"dialog";var j=k.find("md-dialog-content");var i=k.attr("id")||("dialog_"+C.nextUid());k.attr({role:g,tabIndex:"-1"});if(j.length===0){j=k}j.attr("id",i);k.attr("aria-describedby",i);if(h.ariaLabel){x.expect(k,"aria-label",h.ariaLabel)}else{x.expectAsync(k,"aria-label",function(){var l=j.text().split(/\s+/);if(l.length>3){l=l.slice(0,3).concat("...")}return l.join(" ")})}}function J(i,g){var j=true;h(i[0]);g.unlockScreenReader=function(){j=false;h(i[0]);g.unlockScreenReader=null};function h(l){while(l.parentNode){if(l===document.body){return}var m=l.parentNode.children;for(var k=0;k<m.length;k++){if(l!==m[k]&&!G(m[k],["SCRIPT","STYLE"])){m[k].setAttribute("aria-hidden",j)}}h(l=l.parentNode)}}}function D(h,j){var g=B.getComputedStyle(a[0].body).position=="fixed";var k=j.backdrop?B.getComputedStyle(j.backdrop[0]):null;var i=k?Math.min(a[0].body.clientHeight,Math.ceil(Math.abs(parseInt(k.height,10)))):0;h.css({top:(g?C.scrollTop(j.parent):0)+"px",height:i?i+"px":"100%"});return h}function z(h,l){l.parent.append(h);D(h,l);var n=h.find("md-dialog");var i=C.dom.animator;var m=i.calculateZoomToOrigin;var g={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"};var j=i.toTransformCss(m(n,l.origin));var k=i.toTransformCss("");return i.translate3d(n,j,k,g).then(function(o){l.reverseAnimate=function(){delete l.reverseAnimate;return o(i.toTransformCss(m(n,l.origin)))};return true})}function w(h,g){return g.reverseAnimate()}function G(g,h){if(h.indexOf(g.nodeName)!==-1){return true}}}}MdDialogProvider.$inject=["$$interimElementProvider"];ng.material.components.dialog=angular.module("material.components.dialog");