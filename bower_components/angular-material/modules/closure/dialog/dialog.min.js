/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
;goog.provide("ng.material.components.dialog");goog.require("ng.material.components.backdrop");goog.require("ng.material.core");angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);function MdDialogDirective(b,a,c){return{restrict:"E",link:function(f,e,d){a(e);b(function(){var g;var h=e[0].querySelector("md-dialog-content");if(h){g=h.getElementsByTagName("img");i();angular.element(g).on("load",i)}f.$on("$destroy",function(){c.destroy()});function i(){e.toggleClass("md-content-overflow",h.scrollHeight>h.clientHeight)}})}}}MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"];function MdDialogProvider(c){a.$inject=["$mdDialog","$mdTheming"];b.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement"];return c("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:b}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme","css"],options:a}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme","css"],options:a});function a(f,d){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" class="{{ dialog.css }}">',' <md-dialog-content role="document" tabIndex="-1">','   <h2 class="md-title">{{ dialog.title }}</h2>','   <div class="md-dialog-content-body" md-template="::dialog.mdContent"></div>'," </md-dialog-content>",' <div class="md-actions">','   <md-button ng-if="dialog.$type == \'confirm\'"     ng-click="dialog.abort()" class="md-primary">',"     {{ dialog.cancel }}","   </md-button>",'   <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"     {{ dialog.ok }}","   </md-button>"," </div>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function e(){this.hide=function(){f.hide(true)};this.abort=function(){f.cancel()}},controllerAs:"dialog",bindToController:true,theme:d.defaultTheme()}}function b(d,r,m,k,u,v,n,g){return{hasBackdrop:true,isolateScope:true,onShow:q,onRemove:h,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,focusOnOpen:true,disableParentScroll:true,transformTemplate:function(w){return'<div class="md-dialog-container">'+x(w)+"</div>";function x(y){y||"";return/<\/md-dialog>/g.test(y)?y:"<md-dialog>"+y+"</md-dialog>"}}};function q(A,z,x,w){angular.element(v[0].body).addClass("md-dialog-is-showing");B();t(z,x);o(z.find("md-dialog"),x);e(A,z,x);return p(z,x).then(function(){j(z,x);f(z,x);y()});function y(){if(x.focusOnOpen){var D=m.findFocusTarget(z)||C();D.focus()}function C(){var E=z[0].querySelector(".dialog-close");if(!E){var F=z[0].querySelectorAll(".md-actions button");E=F[F.length-1]}return angular.element(E)}}function B(){if(w){var E=/<\/[\w-]*>/gm;var C=w.content||x.content||"";var D=E.test(C);if(!D){C=m.supplant("<p>{0}</p>",[C])}w.mdContent=C}}}function h(z,y,x){x.deactivateListeners();x.unlockScreenReader();x.hideBackdrop(x.$destroy);return !!x.$destroy?w():A().then(w);function A(){return s(y,x)}function w(){angular.element(v[0].body).removeClass("md-dialog-is-showing");y.remove();if(!x.$destroy){x.origin.focus()}}}function t(y,x){x.origin=angular.extend({element:null,bounds:null,focus:angular.noop},x.origin||{});var z=angular.element((x.targetEvent||{}).target);if(z&&z.length){x.origin.element=z;x.origin.bounds=z[0].getBoundingClientRect();x.origin.focus=function(){z.focus()}}if(angular.isString(x.parent)){var A=x.parent,w=v[0].querySelectorAll(A);x.parent=w.length?w[0]:null}x.parent=angular.element(x.parent||g)}function j(x,E){var A=angular.element(n);var C=m.debounce(function(){l(x,E)},60);var y=[];var w=function(){var F=(E.$type=="alert")?d.hide:d.cancel;m.nextTick(F,true)};if(E.escapeToClose){var z=E.parent;var D=function(F){if(F.keyCode===k.KEY_CODE.ESCAPE){F.stopPropagation();F.preventDefault();w()}};x.on("keyup",D);z.on("keyup",D);A.on("resize",C);y.push(function(){x.off("keyup",D);z.off("keyup",D);A.off("resize",C)})}if(E.clickOutsideToClose){var z=x;var B=function(F){if(F.target===z[0]){F.stopPropagation();F.preventDefault();w()}};z.on("click",B);y.push(function(){z.off("click",B)})}E.deactivateListeners=function(){y.forEach(function(F){F()});E.deactivateListeners=null}}function e(z,y,x){if(x.disableParentScroll){x.restoreScroll=m.disableScrollAround(y,x.parent)}if(x.hasBackdrop){x.backdrop=m.createBackdrop(z,"md-dialog-backdrop md-opaque");u.enter(x.backdrop,x.parent)}x.hideBackdrop=function w(A){if(x.backdrop){if(!!A){x.backdrop.remove()}else{u.leave(x.backdrop)}}if(x.disableParentScroll){x.restoreScroll();delete x.restoreScroll}x.hideBackdrop=null}}function o(y,x){var A=(x.$type==="alert")?"alertdialog":"dialog";var z=y.find("md-dialog-content");var w=y.attr("id")||("dialog_"+m.nextUid());y.attr({role:A,tabIndex:"-1"});if(z.length===0){z=y}z.attr("id",w);y.attr("aria-describedby",w);if(x.ariaLabel){r.expect(y,"aria-label",x.ariaLabel)}else{r.expectAsync(y,"aria-label",function(){var B=z.text().split(/\s+/);if(B.length>3){B=B.slice(0,3).concat("...")}return B.join(" ")})}}function f(z,x){var y=true;w(z[0]);x.unlockScreenReader=function(){y=false;w(z[0]);x.unlockScreenReader=null};function w(C){while(C.parentNode){if(C===document.body){return}var B=C.parentNode.children;for(var A=0;A<B.length;A++){if(C!==B[A]&&!i(B[A],["SCRIPT","STYLE"])){B[A].setAttribute("aria-hidden",y)}}w(C=C.parentNode)}}}function l(x,z){var A=n.getComputedStyle(v[0].body).position=="fixed";var y=z.backdrop?n.getComputedStyle(z.backdrop[0]):null;var w=y?Math.min(v[0].body.clientHeight,Math.ceil(Math.abs(parseInt(y.height,10)))):0;x.css({top:(A?m.scrollTop(z.parent):0)+"px",height:w?w+"px":"100%"});return x}function p(x,z){z.parent.append(x);l(x,z);var B=x.find("md-dialog");var w=m.dom.animator;var y=w.calculateZoomToOrigin;var A={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"};var D=w.toTransformCss(y(B,z.origin));var C=w.toTransformCss("");return w.translate3d(B,D,C,A).then(function(E){z.reverseAnimate=function(){delete z.reverseAnimate;return E(w.toTransformCss(y(B,z.origin)))};return true})}function s(w,x){return x.reverseAnimate()}function i(x,w){if(w.indexOf(x.nodeName)!==-1){return true}}}}MdDialogProvider.$inject=["$$interimElementProvider"];ng.material.components.dialog=angular.module("material.components.dialog");