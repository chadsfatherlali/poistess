/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
;goog.provide("ng.material.components.input");goog.require("ng.material.core");angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective);function mdInputContainerDirective(c,b){d.$inject=["$scope","$element","$attrs"];return{restrict:"E",link:a,controller:d};function a(g,f,e){c(f)}function d(h,f,e){var g=this;g.isErrorGetter=e.mdIsError&&b(e.mdIsError);g.delegateClick=function(){g.input.focus()};g.element=f;g.setFocused=function(i){f.toggleClass("md-input-focused",!!i)};g.setHasValue=function(i){f.toggleClass("md-input-has-value",!!i)};g.setHasMessages=function(i){f.toggleClass("md-input-has-messages",!!i)};g.setHasPlaceholder=function(i){f.toggleClass("md-input-has-placeholder",!!i)};g.setInvalid=function(i){f.toggleClass("md-input-invalid",!!i)};h.$watch(function(){return g.label&&g.input},function(i){if(i&&!g.label.attr("for")){g.label.attr("for",g.input.attr("id"))}})}}mdInputContainerDirective.$inject=["$mdTheming","$parse"];function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(d,c,a,b){if(!b||a.mdNoFloat){return}b.label=c;d.$on("$destroy",function(){b.label=null})}}}function inputTextareaDirective(d,c,b){return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:a};function a(p,l,m,k){var f=k[0];var g=!!k[1];var h=k[1]||d.fakeNgModel();var j=angular.isDefined(m.readonly);if(!f){return}if(f.input){throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}f.input=l;if(!f.label){b.expect(l,"aria-label",l.attr("placeholder"))}l.addClass("md-input");if(!l.attr("id")){l.attr("id","input_"+d.nextUid())}if(l[0].tagName.toLowerCase()==="textarea"){o()}if(!g){i()}var e=f.isErrorGetter||function(){return h.$invalid&&h.$touched};p.$watch(e,f.setInvalid);h.$parsers.push(n);h.$formatters.push(n);l.on("input",i);if(!j){l.on("focus",function(q){f.setFocused(true)}).on("blur",function(q){f.setFocused(false);i()})}p.$on("$destroy",function(){f.setFocused(false);f.setHasValue(false);f.input=null});function n(q){f.setHasValue(!h.$isEmpty(q));return q}function i(){f.setHasValue(l.val().length>0||(l[0].validity||{}).badInput)}function o(){if(angular.isDefined(l.attr("md-no-autogrow"))){return}var s=l[0];var q=f.element[0];var y=NaN;var w=null;if(s.hasAttribute("rows")){y=parseInt(s.getAttribute("rows"))}var x=d.debounce(r,1);function v(z){x();return z}if(h){h.$formatters.push(v);h.$viewChangeListeners.push(v)}else{x()}l.on("keydown input",x);if(isNaN(y)){l.attr("rows","1");l.on("scroll",u)}angular.element(c).on("resize",x);p.$on("$destroy",function(){angular.element(c).off("resize",x)});function r(){q.style.height=q.offsetHeight+"px";l.addClass("md-no-flex");if(isNaN(y)){s.style.height="auto";s.scrollTop=0;var z=t();if(z){s.style.height=z+"px"}}else{s.setAttribute("rows",1);if(!w){s.style.minHeight="0";w=l.prop("clientHeight");s.style.minHeight=null}var A=Math.max(y,Math.round(s.scrollHeight/w));s.setAttribute("rows",A)}l.removeClass("md-no-flex");q.style.height="auto"}function t(){var z=s.scrollHeight-s.offsetHeight;return s.offsetHeight+(z>0?z:0)}function u(B){s.scrollTop=0;var A=s.scrollHeight-s.offsetHeight;var z=s.offsetHeight+A;s.style.height=z+"px"}}}}inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria"];function mdMaxlengthDirective(b){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:a};function a(n,j,l,i){var e;var f=i[0];var d=i[1];var h=angular.element('<div class="md-char-counter">');var m=angular.element(d.element[0].querySelector("[md-maxlength]"));l.$set("ngTrim","false");var k=["ng-messages","data-ng-messages","x-ng-messages","[ng-messages]","[data-ng-messages]","[x-ng-messages]"];var c=d.element[0].querySelector(k.join(","));if(c){angular.element(c).prepend(h)}else{m.after(h)}f.$formatters.push(g);f.$viewChangeListeners.push(g);j.on("input keydown",function(){g()});n.$watch(l.mdMaxlength,function(o){e=o;if(angular.isNumber(o)&&o>0){if(!h.parent().length){b.enter(h,d.element,m)}g()}else{b.leave(h)}});f.$validators["md-maxlength"]=function(o,p){if(!angular.isNumber(e)||e<0){return true}return(o||j.val()||p||"").length<=e};function g(o){h.text((j.val()||o||"").length+"/"+e);return o}}}mdMaxlengthDirective.$inject=["$animate"];function placeholderDirective(b){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:a};function a(h,g,c,j){if(!j){return}j.setHasPlaceholder(true);var f=j.element.find("label");var e=angular.isDefined(j.element.attr("md-no-float"));if((f&&f.length)||e){return}var d=c.placeholder;g.removeAttr("placeholder");if(j.input&&j.input[0].nodeName!="MD-SELECT"){var i='<label ng-click="delegateClick()">'+d+"</label>";j.element.addClass("md-icon-float");j.element.prepend(i)}}}placeholderDirective.$inject=["$log"];function ngMessagesDirective(){return{restrict:"EA",link:a,require:"^^?mdInputContainer"};function a(d,c,b,e){if(!e){return}e.setHasMessages(true);d.$on("$destroy",function(){e.setHasMessages(false)})}}ng.material.components.input=angular.module("material.components.input");