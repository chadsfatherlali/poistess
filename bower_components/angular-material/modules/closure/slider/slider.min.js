/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.2-master-71674b0
 */
;goog.provide("ng.material.components.slider");goog.require("ng.material.core");angular.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective);function SliderDirective(i,c,f,b,a,e,h,d,k){return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div>',compile:j};function j(l,m){l.attr({tabIndex:0,role:"slider"});f.expect(l,"aria-label");return g}function g(T,w,B,J){e(w);J=J||{$setViewValue:function(ag){this.$viewValue=ag;this.$viewChangeListeners.forEach(function(ah){ah()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var v=angular.noop;if(B.disabled!=null){v=function(){return true}}else{if(B.ngDisabled){v=angular.bind(null,d(B.ngDisabled),T.$parent)}}var Z=angular.element(w[0].querySelector(".md-thumb"));var R=angular.element(w[0].querySelector(".md-thumb-text"));var O=Z.parent();var t=angular.element(w[0].querySelector(".md-track-container"));var m=angular.element(w[0].querySelector(".md-track-fill"));var C=angular.element(w[0].querySelector(".md-track-ticks"));var U=b.throttle(x,5000);angular.isDefined(B.min)?B.$observe("min",y):y(0);angular.isDefined(B.max)?B.$observe("max",ac):ac(100);angular.isDefined(B.step)?B.$observe("step",aa):aa(1);var P=angular.noop;if(B.ngDisabled){P=T.$parent.$watch(B.ngDisabled,D)}h.register(w,"drag");w.on("keydown",q).on("$md.pressdown",N).on("$md.pressup",r).on("$md.dragstart",ad).on("$md.drag",n).on("$md.dragend",S);function W(){x();o();I()}setTimeout(W,0);var p=i.throttle(W);angular.element(c).on("resize",p);T.$on("$destroy",function(){angular.element(c).off("resize",p);P()});J.$render=o;J.$viewChangeListeners.push(o);J.$formatters.push(E);J.$formatters.push(V);var af;var H;var Q;function y(ag){af=parseFloat(ag);w.attr("aria-valuemin",ag);W()}function ac(ag){H=parseFloat(ag);w.attr("aria-valuemax",ag);W()}function aa(ag){Q=parseFloat(ag);I()}function D(ag){w.attr("aria-disabled",!!ag)}var K,G;function I(){if(!angular.isDefined(B.mdDiscrete)){return}if(angular.isUndefined(Q)){return}if(Q<=0){var ak="Slider step value must be greater than zero when in discrete mode";k.error(ak);throw new Error(ak)}var ah=Math.floor((H-af)/Q);if(!K){K=angular.element('<canvas style="position:absolute;">');C.append(K);var ai=c.getComputedStyle(C[0]);G=K[0].getContext("2d");G.fillStyle=ai.backgroundColor||"black"}var aj=ae();K[0].width=aj.width;K[0].height=aj.height;var al;for(var ag=0;ag<=ah;ag++){al=Math.floor(aj.width*(ag/ah));G.fillRect(al-1,0,2,aj.height)}}var M={};x();function x(){M=t[0].getBoundingClientRect()}function ae(){U();return M}function q(ah){if(w[0].hasAttribute("disabled")){return}var ag;if(ah.keyCode===a.KEY_CODE.LEFT_ARROW){ag=-Q}else{if(ah.keyCode===a.KEY_CODE.RIGHT_ARROW){ag=Q}}if(ag){if(ah.metaKey||ah.ctrlKey||ah.altKey){ag*=4}ah.preventDefault();ah.stopPropagation();T.$evalAsync(function(){z(J.$viewValue+ag)})}}function z(ag){J.$setViewValue(E(V(ag)))}function o(){if(isNaN(J.$viewValue)){J.$viewValue=J.$modelValue}var ag=(J.$viewValue-af)/(H-af);T.modelValue=J.$viewValue;w.attr("aria-valuenow",J.$viewValue);Y(ag);R.text(J.$viewValue)}function E(ag){if(angular.isNumber(ag)){return Math.max(af,Math.min(H,ag))}}function V(ah){if(angular.isNumber(ah)){var ag=(Math.round(ah/Q)*Q);return(Math.round(ag*1000)/1000)}}function Y(ag){m.css("width",(ag*100)+"%");O.css("left",(ag*100)+"%");w.toggleClass("md-min",ag===0)}var F=false;var ab=angular.isDefined(B.mdDiscrete);function N(ai){if(v()){return}w.addClass("md-active");w[0].focus();x();var ah=l(L(ai.pointer.x));var ag=E(V(ah));T.$apply(function(){z(ag);Y(X(ag))})}function r(ai){if(v()){return}w.removeClass("md-dragging md-active");var ah=l(L(ai.pointer.x));var ag=E(V(ah));T.$apply(function(){z(ag);o()})}function ad(ag){if(v()){return}F=true;ag.stopPropagation();w.addClass("md-dragging");s(ag)}function n(ag){if(!F){return}ag.stopPropagation();s(ag)}function S(ag){if(!F){return}ag.stopPropagation();F=false}function s(ag){if(ab){A(ag.pointer.x)}else{u(ag.pointer.x)}}function u(ag){T.$evalAsync(function(){z(l(L(ag)))})}function A(ah){var ai=l(L(ah));var ag=E(V(ai));Y(L(ah));R.text(ag)}function L(ag){return Math.max(0,Math.min(1,(ag-M.left)/(M.width)))}function l(ag){return(af+ag*(H-af))}function X(ag){return(ag-af)/(H-af)}}}SliderDirective.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"];ng.material.components.slider=angular.module("material.components.slider");