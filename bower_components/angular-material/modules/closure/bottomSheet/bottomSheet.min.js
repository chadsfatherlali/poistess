/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.2-master-71674b0
 */
;goog.provide("ng.material.components.bottomSheet");goog.require("ng.material.components.backdrop");goog.require("ng.material.core");angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(b){return{restrict:"E",link:function a(e,d,c){e.$on("$destroy",function(){b.destroy()})}}}MdBottomSheetDirective.$inject=["$mdBottomSheet"];function MdBottomSheetProvider(d){var b=0.5;var c=80;a.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return d("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:a});function a(k,e,f,i,l,o,j){var g;return{themable:true,targetEvent:null,onShow:m,onRemove:h,escapeToClose:true,disableParentScroll:true};function m(t,s,q,p){s=f.extractElementByName(s,"md-bottom-sheet");g=f.createBackdrop(t,"md-bottom-sheet-backdrop md-opaque");g.on("click",function(){f.nextTick(l.cancel,true)});i.inherit(g,q.parent);k.enter(g,q.parent,null);var r=new n(s,q.parent);q.bottomSheet=r;q.targetEvent&&angular.element(q.targetEvent.target).blur();i.inherit(r.element,q.parent);if(q.disableParentScroll){q.restoreScroll=f.disableScrollAround(r.element,q.parent)}return k.enter(r.element,q.parent).then(function(){var u=f.findFocusTarget(s)||angular.element(s[0].querySelector("button")||s[0].querySelector("a")||s[0].querySelector("[ng-click]"));u.focus();if(q.escapeToClose){q.rootElementKeyupCallback=function(v){if(v.keyCode===e.KEY_CODE.ESCAPE){f.nextTick(l.cancel,true)}};o.on("keyup",q.rootElementKeyupCallback)}})}function h(s,r,p){var q=p.bottomSheet;k.leave(g);return k.leave(q.element).then(function(){if(p.disableParentScroll){p.restoreScroll();delete p.restoreScroll}q.cleanup();p.targetEvent&&angular.element(p.targetEvent.target).focus()})}function n(r,t){var u=j.register(t,"drag",{horizontal:false});t.on("$md.dragstart",v).on("$md.drag",q).on("$md.dragend",p);return{element:r,cleanup:function s(){u();t.off("$md.dragstart",v);t.off("$md.drag",q);t.off("$md.dragend",p)}};function v(w){r.css(e.CSS.TRANSITION_DURATION,"0ms")}function q(x){var w=x.pointer.distanceY;if(w<5){w=Math.max(-c,w/2)}r.css(e.CSS.TRANSFORM,"translate3d(0,"+(c+w)+"px,0)")}function p(y){if(y.pointer.distanceY>0&&(y.pointer.distanceY>20||Math.abs(y.pointer.velocityY)>b)){var x=r.prop("offsetHeight")-y.pointer.distanceY;var w=Math.min(x/y.pointer.velocityY*0.75,500);r.css(e.CSS.TRANSITION_DURATION,w+"ms");f.nextTick(l.cancel,true)}else{r.css(e.CSS.TRANSITION_DURATION,"");r.css(e.CSS.TRANSFORM,"")}}}}}MdBottomSheetProvider.$inject=["$$interimElementProvider"];ng.material.components.bottomSheet=angular.module("material.components.bottomSheet");