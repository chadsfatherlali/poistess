/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
;goog.provide("ng.material.components.bottomSheet");goog.require("ng.material.components.backdrop");goog.require("ng.material.core");angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(c){return{restrict:"E",link:function d(a,b,f){a.$on("$destroy",function(){c.destroy()})}}}MdBottomSheetDirective.$inject=["$mdBottomSheet"];function MdBottomSheetProvider(g){var e=0.5;var h=80;f.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return g("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:f});function f(p,v,u,r,d,a,q){var t;return{themable:true,targetEvent:null,onShow:c,onRemove:s,escapeToClose:true,disableParentScroll:true};function c(i,j,l,m){j=u.extractElementByName(j,"md-bottom-sheet");t=u.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque");t.on("click",function(){u.nextTick(d.cancel,true)});r.inherit(t,l.parent);p.enter(t,l.parent,null);var k=new b(j,l.parent);l.bottomSheet=k;l.targetEvent&&angular.element(l.targetEvent.target).blur();r.inherit(k.element,l.parent);if(l.disableParentScroll){l.restoreScroll=u.disableScrollAround(k.element,l.parent)}return p.enter(k.element,l.parent).then(function(){var n=u.findFocusTarget(j)||angular.element(j[0].querySelector("button")||j[0].querySelector("a")||j[0].querySelector("[ng-click]"));n.focus();if(l.escapeToClose){l.rootElementKeyupCallback=function(o){if(o.keyCode===v.KEY_CODE.ESCAPE){u.nextTick(d.cancel,true)}};a.on("keyup",l.rootElementKeyupCallback)}})}function s(i,j,l){var k=l.bottomSheet;p.leave(t);return p.leave(k.element).then(function(){if(l.disableParentScroll){l.restoreScroll();delete l.restoreScroll}k.cleanup();l.targetEvent&&angular.element(l.targetEvent.target).focus()})}function b(m,k){var j=q.register(k,"drag",{horizontal:false});k.on("$md.dragstart",i).on("$md.drag",n).on("$md.dragend",o);return{element:m,cleanup:function l(){j();k.off("$md.dragstart",i);k.off("$md.drag",n);k.off("$md.dragend",o)}};function i(x){m.css(v.CSS.TRANSITION_DURATION,"0ms")}function n(y){var z=y.pointer.distanceY;if(z<5){z=Math.max(-h,z/2)}m.css(v.CSS.TRANSFORM,"translate3d(0,"+(h+z)+"px,0)")}function o(B){if(B.pointer.distanceY>0&&(B.pointer.distanceY>20||Math.abs(B.pointer.velocityY)>e)){var z=m.prop("offsetHeight")-B.pointer.distanceY;var A=Math.min(z/B.pointer.velocityY*0.75,500);m.css(v.CSS.TRANSITION_DURATION,A+"ms");u.nextTick(d.cancel,true)}else{m.css(v.CSS.TRANSITION_DURATION,"");m.css(v.CSS.TRANSFORM,"")}}}}}MdBottomSheetProvider.$inject=["$$interimElementProvider"];ng.material.components.bottomSheet=angular.module("material.components.bottomSheet");