/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
(function(k,j,m){j.module("material.components.menuBar",["material.core","material.components.menu"]);j.module("material.components.menuBar").controller("MenuBarController",l);var o=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function l(a,c,d,g,f,e,h){this.$element=c;this.$attrs=d;this.$mdConstant=g;this.$mdUtil=e;this.$document=f;this.$scope=a;this.$timeout=h;var b=this;j.forEach(o,function(i){b[i]=j.bind(b,b[i])})}l.$inject=["$scope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"];l.prototype.init=function(){var d=this.$element;var a=this.$mdUtil;var b=this.$scope;var c=this;d.on("keydown",this.handleKeyDown);this.parentToolbar=a.getClosest(d,"MD-TOOLBAR");b.$on("$mdMenuOpen",function(e,f){if(c.getMenus().indexOf(f[0])!=-1){d[0].classList.add("md-open");f[0].classList.add("md-open");c.currentlyOpenMenu=f.controller("mdMenu");c.currentlyOpenMenu.registerContainerProxy(c.handleKeyDown);c.enableOpenOnHover()}});b.$on("$mdMenuClose",function(e,f){var g=c.getMenus();if(g.indexOf(f[0])!=-1){d[0].classList.remove("md-open");f[0].classList.remove("md-open")}if(d[0].contains(f[0])){var h=f[0];while(h&&g.indexOf(h)==-1){h=a.getClosest(h,"MD-MENU",true)}if(h){h.querySelector("button").focus();c.currentlyOpenMenu=m;c.disableOpenOnHover();c.setKeyboardMode(true)}}});j.element(this.getMenus()).on("mouseenter",this.handleMenuHover);this.setKeyboardMode(true)};l.prototype.setKeyboardMode=function(a){if(a){this.$element[0].classList.add("md-keyboard-mode")}else{this.$element[0].classList.remove("md-keyboard-mode")}};l.prototype.enableOpenOnHover=function(){if(this.openOnHoverEnabled){return}this.openOnHoverEnabled=true;var b=this.$element;var a;if(a=this.parentToolbar){a.dataset.mdRestoreStyle=a.getAttribute("style");a.style.position="relative";a.style.zIndex=100}};l.prototype.handleMenuHover=function(a){this.setKeyboardMode(false);if(this.openOnHoverEnabled){this.scheduleOpenHoveredMenu(a)}};l.prototype.disableOpenOnHover=function(){if(!this.openOnHoverEnabled){return}this.openOnHoverEnabled=false;var a;if(a=this.parentToolbar){a.setAttribute("style",a.dataset.mdRestoreStyle||"")}};l.prototype.scheduleOpenHoveredMenu=function(a){var c=j.element(a.currentTarget);var b=c.controller("mdMenu");this.setKeyboardMode(false);this.scheduleOpenMenu(b)};l.prototype.scheduleOpenMenu=function(a){var c=this;var b=this.$timeout;if(a!=c.currentlyOpenMenu){b.cancel(c.pendingMenuOpen);c.pendingMenuOpen=b(function(){c.pendingMenuOpen=m;if(c.currentlyOpenMenu){c.currentlyOpenMenu.close(true,{closeAll:true})}a.open()},200,false)}};l.prototype.handleKeyDown=function(e){var c=this.$mdConstant.KEY_CODE;var g=this.currentlyOpenMenu;var a=g&&g.isOpen;this.setKeyboardMode(true);var f;switch(e.keyCode){case c.DOWN_ARROW:if(g){g.focusMenuContainer()}else{this.openFocusedMenu()}f=true;break;case c.UP_ARROW:g&&g.close();f=true;break;case c.LEFT_ARROW:var b=this.focusMenu(-1);if(a){var d=j.element(b).controller("mdMenu");this.scheduleOpenMenu(d)}f=true;break;case c.RIGHT_ARROW:var b=this.focusMenu(+1);if(a){var d=j.element(b).controller("mdMenu");this.scheduleOpenMenu(d)}f=true;break}if(f){e&&e.preventDefault&&e.preventDefault();e&&e.stopImmediatePropagation&&e.stopImmediatePropagation()}};l.prototype.focusMenu=function(c){var d=this.getMenus();var a=this.getFocusedMenuIndex();if(a==-1){a=this.getOpenMenuIndex()}var b=false;if(a==-1){a=0}else{if(c<0&&a>0||c>0&&a<d.length-c){a+=c;b=true}}if(b){d[a].querySelector("button").focus();return d[a]}};l.prototype.openFocusedMenu=function(){var a=this.getFocusedMenu();a&&j.element(a).controller("mdMenu").open()};l.prototype.getMenus=function(){var a=this.$element;return this.$mdUtil.nodesToArray(a[0].children).filter(function(b){return b.nodeName=="MD-MENU"})};l.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};l.prototype.getFocusedMenuIndex=function(){var a=this.$mdUtil;var d=this.$element;var c=a.getClosest(this.$document[0].activeElement,"MD-MENU");if(!c){return -1}var b=this.getMenus().indexOf(c);return b};l.prototype.getOpenMenuIndex=function(){var a=this.getMenus();for(var b=0;b<a.length;++b){if(a[b].classList.contains("md-open")){return b}}return -1};j.module("material.components.menuBar").directive("mdMenuBar",n);function n(a,c){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function b(e,f){if(!f.ariaRole){e[0].setAttribute("role","menubar")}j.forEach(e[0].children,function(h){if(h.nodeName=="MD-MENU"){if(!h.hasAttribute("md-position-mode")){h.setAttribute("md-position-mode","left bottom")}h.setAttribute("role","menu");var g=a.nodesToArray(h.querySelectorAll("md-menu-content"));j.forEach(g,function(i){i.classList.add("md-menu-bar-menu");i.classList.add("md-dense");if(!i.hasAttribute("width")){i.setAttribute("width",5)}})}});return function d(h,i,t,g){c(h,i);g.init()}}}}n.$inject=["$mdUtil","$mdTheming"];j.module("material.components.menuBar").directive("mdMenuDivider",r);function r(){return{restrict:"E",compile:function(a,b){if(!b.role){a[0].setAttribute("role","separator")}}}}j.module("material.components.menuBar").controller("MenuItemController",q);function q(a,b,c){this.$element=b;this.$attrs=c;this.$scope=a}q.$inject=["$scope","$element","$attrs"];q.prototype.init=function(a){var b=this.$element;var c=this.$attrs;this.ngModel=a;if(c.type=="checkbox"||c.type=="radio"){this.mode=c.type;this.iconEl=b[0].children[0];this.buttonEl=b[0].children[1];if(a){this.initClickListeners()}}};q.prototype.initClickListeners=function(){var g=this.ngModel;var v=this.$scope;var a=this.$attrs;var u=this.$element;var e=this.mode;this.handleClick=j.bind(this,this.handleClick);var b=this.iconEl;var f=j.element(this.buttonEl);var d=this.handleClick;a.$observe("disabled",c);c(a.disabled);g.$render=function h(){if(i()){b.style.display="";u.attr("aria-checked","true")}else{b.style.display="none";u.attr("aria-checked","false")}};v.$$postDigest(g.$render);function i(){if(e=="radio"){var s=a.ngValue?v.$eval(a.ngValue):a.value;return g.$modelValue==s}else{return g.$modelValue}}function c(s){if(s){f.off("click",d)}else{f.on("click",d)}}};q.prototype.handleClick=function(b){var e=this.mode;var a=this.ngModel;var d=this.$attrs;var c;if(e=="checkbox"){c=!a.$modelValue}else{if(e=="radio"){c=d.ngValue?this.$scope.$eval(d.ngValue):d.value}}a.$setViewValue(c);a.$render()};j.module("material.components.menuBar").directive("mdMenuItem",p);function p(){return{require:["mdMenuItem","?ngModel"],compile:function(e,a){if(a.type=="checkbox"||a.type=="radio"){var f=e[0].textContent;var d=j.element('<md-button type="button"></md-button>');d.html(f);d.attr("tabindex","0");e.html("");e.append(j.element('<md-icon md-svg-icon="check"></md-icon>'));e.append(d);e[0].classList.add("md-indent");c("role",(a.type=="checkbox")?"menuitemcheckbox":"menuitemradio");j.forEach(["ng-disabled"],b)}else{c("role","menuitem")}return function(i,v,w,x){var h=x[0];var g=x[1];h.init(g)};function c(h,g){if(!e[0].hasAttribute(h)){e[0].setAttribute(h,g)}}function b(h){if(e[0].hasAttribute(h)){var g=e[0].getAttribute(h);d[0].setAttribute(h,g);e[0].removeAttribute(h)}}},controller:"MenuItemController"}}})(window,window.angular);