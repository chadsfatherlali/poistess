/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.1-master-eacca5e
 */
(function(i,j,h){j.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",f).provider("$mdBottomSheet",g);function f(a){return{restrict:"E",link:function b(c,d,e){c.$on("$destroy",function(){a.destroy()})}}}f.$inject=["$mdBottomSheet"];function g(a){var c=0.5;var b=80;d.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return a("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:d});function d(v,B,A,x,u,C,w){var z;return{themable:true,targetEvent:null,onShow:e,onRemove:y,escapeToClose:true,disableParentScroll:true};function e(o,k,m,n){k=A.extractElementByName(k,"md-bottom-sheet");z=A.createBackdrop(o,"md-bottom-sheet-backdrop md-opaque");z.on("click",function(){A.nextTick(u.cancel,true)});x.inherit(z,m.parent);v.enter(z,m.parent,null);var l=new D(k,m.parent);m.bottomSheet=l;m.targetEvent&&j.element(m.targetEvent.target).blur();x.inherit(l.element,m.parent);if(m.disableParentScroll){m.restoreScroll=A.disableScrollAround(l.element,m.parent)}return v.enter(l.element,m.parent).then(function(){var p=A.findFocusTarget(k)||j.element(k[0].querySelector("button")||k[0].querySelector("a")||k[0].querySelector("[ng-click]"));p.focus();if(m.escapeToClose){m.rootElementKeyupCallback=function(q){if(q.keyCode===B.KEY_CODE.ESCAPE){A.nextTick(u.cancel,true)}};C.on("keyup",m.rootElementKeyupCallback)}})}function y(k,l,n){var m=n.bottomSheet;v.leave(z);return v.leave(m.element).then(function(){if(n.disableParentScroll){n.restoreScroll();delete n.restoreScroll}m.cleanup();n.targetEvent&&j.element(n.targetEvent.target).focus()})}function D(m,q){var p=w.register(q,"drag",{horizontal:false});q.on("$md.dragstart",k).on("$md.drag",n).on("$md.dragend",o);return{element:m,cleanup:function l(){p();q.off("$md.dragstart",k);q.off("$md.drag",n);q.off("$md.dragend",o)}};function k(r){m.css(B.CSS.TRANSITION_DURATION,"0ms")}function n(r){var s=r.pointer.distanceY;if(s<5){s=Math.max(-b,s/2)}m.css(B.CSS.TRANSFORM,"translate3d(0,"+(b+s)+"px,0)")}function o(r){if(r.pointer.distanceY>0&&(r.pointer.distanceY>20||Math.abs(r.pointer.velocityY)>c)){var s=m.prop("offsetHeight")-r.pointer.distanceY;var t=Math.min(s/r.pointer.velocityY*0.75,500);m.css(B.CSS.TRANSITION_DURATION,t+"ms");A.nextTick(u.cancel,true)}else{m.css(B.CSS.TRANSITION_DURATION,"");m.css(B.CSS.TRANSFORM,"")}}}}}g.$inject=["$$interimElementProvider"]})(window,window.angular);