/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.2-master-71674b0
 */
(function(c,a,d){a.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",b);function b(h,e,k,f){var g=l();return function j(p,o,q){var n=o.controller("mdContent");if(!n){return}if(g){o.css({position:g,top:0,"z-index":2})}else{var s=n.$element.data("$$sticky");if(!s){s=i(n);n.$element.data("$$sticky",s)}var r=s.add(o,q||o.clone());p.$on("$destroy",r)}};function i(o){var n=o.$element;var u=k.throttle(q);m(n);n.on("$scrollstart",u);n.on("$scroll",t);var x;return x={prev:null,current:null,next:null,items:[],add:w,refreshElements:q};function w(z,B){B.addClass("md-sticky-clone");var A={element:z,clone:B};x.items.push(A);f.nextTick(function(){n.prepend(A.clone)});u();return function y(){x.items.forEach(function(D,C){if(D.element[0]===z[0]){x.items.splice(C,1);D.clone.remove()}});u()}}function q(){x.items.forEach(r);x.items=x.items.sort(function(C,B){return C.top<B.top?-1:1});var z;var A=n.prop("scrollTop");for(var y=x.items.length-1;y>=0;y--){if(A>x.items[y].top){z=x.items[y];break}}s(z)}function r(y){var z=y.element[0];y.top=0;y.left=0;while(z&&z!==n[0]){y.top+=z.offsetTop;y.left+=z.offsetLeft;z=z.offsetParent}y.height=y.element.prop("offsetHeight");y.clone.css("margin-left",y.left+"px");if(f.floatingScrollbars()){y.clone.css("margin-right","0")}}function t(){var y=n.prop("scrollTop");var z=y>(t.prevScrollTop||0);t.prevScrollTop=y;if(y===0){s(null);return}if(z){if(x.next&&x.next.top<=y){s(x.next);return}if(x.current&&x.next&&x.next.top-y<=x.next.height){p(x.current,y+(x.next.top-x.next.height-y));return}}if(!z){if(x.current&&x.prev&&y<x.current.top){s(x.prev);return}if(x.next&&x.current&&(y>=(x.next.top-x.current.height))){p(x.current,y+(x.next.top-y-x.current.height));return}}if(x.current){p(x.current,y)}}function s(z){if(x.current===z){return}if(x.current){p(x.current,null);v(x.current,null)}if(z){v(z,"active")}x.current=z;var y=x.items.indexOf(z);x.next=x.items[y+1];x.prev=x.items[y-1];v(x.next,"next");v(x.prev,"prev")}function v(y,z){if(!y||y.state===z){return}if(y.state){y.clone.attr("sticky-prev-state",y.state);y.element.attr("sticky-prev-state",y.state)}y.clone.attr("sticky-state",z);y.element.attr("sticky-state",z);y.state=z}function p(z,y){if(!z){return}if(y===null||y===d){if(z.translateY){z.translateY=null;z.clone.css(e.CSS.TRANSFORM,"")}}else{z.translateY=y;z.clone.css(e.CSS.TRANSFORM,"translate3d("+z.left+"px,"+y+"px,0)")}}}function l(q){var o;var r=a.element("<div>");h[0].body.appendChild(r[0]);var n=["sticky","-webkit-sticky"];for(var p=0;p<n.length;++p){r.css({position:n[p],top:0,"z-index":2});if(r.css("position")==n[p]){o=n[p];break}}r.remove();return o}function m(o){var q=200;var r;var n;o.on("scroll touchmove",function(){if(!r){r=true;k.throttle(p);o.triggerHandler("$scrollstart")}o.triggerHandler("$scroll");n=+f.now()});function p(){if(+f.now()-n>q){r=false;o.triggerHandler("$scrollend")}else{o.triggerHandler("$scroll");k.throttle(p)}}}}b.$inject=["$document","$mdConstant","$$rAF","$mdUtil"]})(window,window.angular);