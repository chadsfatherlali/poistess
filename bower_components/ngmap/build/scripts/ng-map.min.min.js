angular.module("ngMap",[]),function(){function camelCase(e){return e.replace(SPECIAL_CHARS_REGEXP,function(e,t,n,o){return o?n.toUpperCase():n}).replace(MOZ_HACK_REGEXP,"Moz$1")}function JSONize(e){try{return JSON.parse(e),e}catch(t){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,Attr2Options=function($parse,$timeout,NavigatorGeolocation,GeoCoder){var orgAttributes=function(e){e.length>0&&(e=e[0]);for(var t={},n=0;n<e.attributes.length;n++){var o=e.attributes[n];t[o.name]=o.value}return t},toOptionValue=function(input,options){var output,key=options.key,scope=options.scope;try{var num=Number(input);if(isNaN(num)){throw"Not a number"}output=num}catch(err){try{if(input.match(/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/)&&(input="["+input+"]"),output=JSON.parse(JSONize(input)),output instanceof Array){var t1stEl=output[0];if(t1stEl.constructor==Object){}else{if(t1stEl.constructor==Array){output=output.map(function(e){return new google.maps.LatLng(e[0],e[1])})}else{if(!isNaN(parseFloat(t1stEl))&&isFinite(t1stEl)){return new google.maps.LatLng(output[0],output[1])}}}}else{output===Object(output)&&(output=getOptions(output,options))}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/)){try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}}else{if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/)){try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}}else{if(input.match(/^[A-Z]+$/)){try{var capitalizedKey=key.charAt(0).toUpperCase()+key.slice(1);key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}}else{if(input.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/)){try{output=new Date(input)}catch(e){output=input}}else{output=input}}}}}}return output},getAttrsToObserve=function(e){var t=[];if(e["ng-repeat"]||e.ngRepeat){}else{for(var n in e){var o=e[n];o&&o.match(/\{\{.*\}\}/)&&t.push(camelCase(n))}}return t},filter=function(e){var t={};for(var n in e){n.match(/^\$/)||n.match(/^ng[A-Z]/)||(t[n]=e[n])}return t},getOptions=function(e,t){var n={};for(var o in e){if(e[o]){if(o.match(/^on[A-Z]/)){continue}if(o.match(/ControlOptions$/)){continue}n[o]="string"!=typeof e[o]?e[o]:toOptionValue(e[o],{scope:t,key:o})}}return n},getEvents=function(e,t){var n={},o=function(e){return"_"+e.toLowerCase()},i=function(t){var n=t.match(/([^\(]+)\(([^\)]*)\)/),o=n[1],i=n[2].replace(/event[ ,]*/,""),r=$parse("["+i+"]");return function(t){function n(e,t){return e[t]}var i=r(e),a=o.split(".").reduce(n,e);a&&a.apply(this,[t].concat(i)),$timeout(function(){e.$apply()})}};for(var r in t){if(t[r]){if(!r.match(/^on[A-Z]/)){continue}var a=r.replace(/^on/,"");a=a.charAt(0).toLowerCase()+a.slice(1),a=a.replace(/([A-Z])/g,o);var s=t[r];n[a]=new i(s)}}return n},getControlOptions=function(e){var t={};if("object"!=typeof e){return !1}for(var n in e){if(e[n]){if(!n.match(/(.*)ControlOptions$/)){continue}var o=e[n],i=o.replace(/'/g,'"');i=i.replace(/([^"]+)|("[^"]+")/g,function(e,t,n){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var r=JSON.parse(i);for(var a in r){if(r[a]){var s=r[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),"style"===a){var c=n.charAt(0).toUpperCase()+n.slice(1),u=c.replace(/Options$/,"")+"Style";r[a]=google.maps[u][s]}else{r[a]="position"===a?google.maps.ControlPosition[s]:s}}}t[n]=r}catch(l){}}}return t};return{camelCase:camelCase,filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2Options.$inject=["$parse","$timeout","NavigatorGeolocation","GeoCoder"],angular.module("ngMap").service("Attr2Options",Attr2Options)}(),function(){var a=function(b){return{geocode:function(c){var e=b.defer(),d=new google.maps.Geocoder;return d.geocode(c,function(g,f){f==google.maps.GeocoderStatus.OK?e.resolve(g):e.reject("Geocoder failed due to: "+f)}),e.promise}}};a.$inject=["$q"],angular.module("ngMap").service("GeoCoder",a)}(),function(){var a=function(b){return{getCurrentPosition:function(){var c=b.defer();return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(d){c.resolve(d)},function(d){c.reject(d)}):c.reject("Browser Geolocation service failed."),c.promise},watchPosition:function(){return"TODO"},clearWatch:function(){return"TODO"}}};a.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",a)}(),function(){var a=function(c){var b=function(f,h){h=h||f.getCenter();var g=c.defer(),e=new google.maps.StreetViewService;return e.getPanoramaByLocation(h||f.getCenter,100,function(j,i){i===google.maps.StreetViewStatus.OK?g.resolve(j.location.pano):g.resolve(!1)}),g.promise},d=function(g,f){var h=new google.maps.StreetViewPanorama(g.getDiv(),{enableCloseButton:!0});h.setPano(f)};return{getPanorama:b,setPanorama:d}};a.$inject=["$q"],angular.module("ngMap").service("StreetView",a)}(),function(){angular.module("ngMap").directive("bicyclingLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.BicyclingLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("bicyclingLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("bicyclingLayers",g)})}}}])}(),function(){angular.module("ngMap").directive("cloudLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.weather.CloudLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("cloudLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("cloudLayers",g)})}}}])}(),function(){angular.module("ngMap").directive("customControl",["Attr2Options","$compile",function(b,a){var c=b;return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=(c.orgAttributes(f),c.filter(h)),p=c.getOptions(m,j),k=c.getEvents(j,m),n=f[0].parentElement.removeChild(f[0]);a(n.innerHTML.trim())(j);for(var g in k){google.maps.event.addDomListener(n,g,k[g])}d.addObject("customControls",n),j.$on("mapInitialized",function(l,i){var o=p.position;i.controls[google.maps.ControlPosition[o]].push(n)})}}}])}(),function(){var d,b,g,f=function(i){i=i||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.visible=!0;for(var h in i){this[h]=i[h]}},a=function(){f.prototype=new google.maps.OverlayView,f.prototype.setContent=function(l,m){if(this.html=l,m){var j=b(l)(m),k=j[0],h=this;g(function(){h.content=k.innerHTML,h.el.innerHTML=h.content})}else{this.content=l,this.el.innerHTML=this.content}this.el.style.position="relative",this.el.className="custom-marker"},f.prototype.setPosition=function(i){if(i&&(this.position=i),this.getProjection()&&"function"==typeof this.position.lng){var h=this.getProjection().fromLatLngToDivPixel(this.position),k=Math.round(h.x-this.el.offsetWidth/2),j=Math.round(h.y-this.el.offsetHeight-10);this.el.style.left=k+"px",this.el.style.top=j+"px"}},f.prototype.setZIndex=function(h){h&&(this.zIndex=h),this.el.style.zIndex=this.zIndex},f.prototype.setVisible=function(h){this.el.style.display=h?"inline-block":"none",this.visible=h},f.prototype.addClass=function(i){var h=this.el.className.split(" ");-1==h.indexOf(i)&&h.push(i),this.el.className=h.join(" ")},f.prototype.removeClass=function(i){var h=this.el.className.split(" "),j=h.indexOf(i);j>-1&&h.splice(j,1),this.el.className=h.join(" ")},f.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},f.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},f.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el),this.el=null}},c=function(i,e,h){return d=i,b=e,g=h,a(),{restrict:"E",require:"^map",link:function(y,m,q,j){var w=(d.orgAttributes(m),d.filter(q)),z=d.getOptions(w,y),v=d.getEvents(y,w),x=m[0].parentElement.removeChild(m[0]),o=new f(z);o.setContent(x.innerHTML,y);for(var k in v){google.maps.event.addDomListener(o.el,k,v[k])}j.addObject("customMarkers",o),z.position instanceof google.maps.LatLng||j.getGeoLocation(z.position).then(function(l){o.setPosition(l)}),m.bind("$destroy",function(){j.deleteObject("customMarkers",marker)})}}};c.$inject=["Attr2Options","$compile","$timeout"],angular.module("ngMap").directive("customMarker",c)}(),function(){var b=function(d,c){d.panel&&(d.panel=document.getElementById(d.panel)||document.querySelector(d.panel));var g=new google.maps.DirectionsRenderer(d);for(var f in c){google.maps.event.addListener(g,f,c[f])}return g},a=function(e,j,h){var d=e,g=new google.maps.DirectionsService,c=function(o,m){var l=m;l.travelMode=l.travelMode||"DRIVING";var k=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var n in l){-1===k.indexOf(n)&&delete l[n]}l.waypoints&&("[]"==l.waypoints||""==l.waypoints)&&delete l.waypoints;var p=function(i){g.route(i,function(q,r){r==google.maps.DirectionsStatus.OK&&j(function(){o.setDirections(q)})})};l.origin&&l.destination&&("current-location"==l.origin?h.getCurrentPosition().then(function(i){l.origin=new google.maps.LatLng(i.coords.latitude,i.coords.longitude),p(l)}):"current-location"==l.destination?h.getCurrentPosition().then(function(i){l.destination=new google.maps.LatLng(i.coords.latitude,i.coords.longitude),p(l)}):p(l))},f=function(y,m,i,z){var w=d.orgAttributes(m),x=d.filter(i),n=d.getOptions(x),k=d.getEvents(y,x),q=d.getAttrsToObserve(w),v=b(n,k);z.addObject("directionsRenderers",v),q.forEach(function(l){!function(o){i.$observe(o,function(p){if("panel"==o){j(function(){var s=document.getElementById(p)||document.querySelector(p);s&&v.setPanel(s)})}else{if(n[o]!==p){var r=d.toOptionValue(p,{key:o});n[o]=r,c(v,n)}}})}(l)}),y.$on("mapInitialized",function(){c(v,n)}),y.$on("$destroy",function(){z.deleteObject("directionsRenderers",v)})};return{restrict:"E",require:"^map",link:f}};a.$inject=["Attr2Options","$timeout","NavigatorGeolocation"],angular.module("ngMap").directive("directions",a)}(),function(){angular.module("ngMap").directive("drawingManager",["Attr2Options",function(b){var a=b;return{restrict:"E",require:"^map",link:function(k,g,f,j){var d=(a.orgAttributes(g),a.filter(f)),p=a.getOptions(d),t=a.getControlOptions(d),m=a.getEvents(k,d),q=new google.maps.drawing.DrawingManager({drawingMode:p.drawingmode,drawingControl:p.drawingcontrol,drawingControlOptions:t.drawingControlOptions,circleOptions:p.circleoptions,markerOptions:p.markeroptions,polygonOptions:p.polygonoptions,polylineOptions:p.polylineoptions,rectangleOptions:p.rectangleoptions}),m=a.getEvents(k,d);for(var h in m){google.maps.event.addListener(q,h,m[h])}j.addObject("mapDrawingManager",q)}}}])}(),function(){angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.visualization.DynamicMapsEngineLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(k,l,g,j){var d=a.filter(g),h=a.getOptions(d),m=a.getEvents(k,d,m),f=c(h,m);j.addObject("mapsEngineLayers",f)}}}])}(),function(){angular.module("ngMap").directive("fusionTablesLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.FusionTablesLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(k,l,g,j){var d=a.filter(g),h=a.getOptions(d),m=a.getEvents(k,d,m),f=c(h,m);j.addObject("fusionTablesLayers",f)}}}])}(),function(){angular.module("ngMap").directive("heatmapLayer",["Attr2Options","$window",function(b,a){var c=b;return{restrict:"E",require:"^map",link:function(j,k,f,h){var d=c.filter(f),g=c.getOptions(d);if(g.data=a[f.data]||j[f.data],!(g.data instanceof Array)){throw"invalid heatmap data"}g.data=new google.maps.MVCArray(g.data);var l=new google.maps.visualization.HeatmapLayer(g);c.getEvents(j,d);h.addObject("heatmapLayers",l)}}}])}(),function(){var a=function(g,d,j,h){var c=g,f=function(p,q,l){var n;!p.position||p.position instanceof google.maps.LatLng||delete p.position,n=new google.maps.InfoWindow(p),Object.keys(q).length>0;for(var k in q){k&&google.maps.event.addListener(n,k,q[k])}var m=l.html().trim();if(1!=angular.element(m).length){throw"info-window working as a template must have a container"}return n.__template=m.replace(/\s?ng-non-bindable[='"]+/,""),n.__compile=function(i,s){s&&(i["this"]=s);var r=d(n.__template)(i);n.setContent(r[0]),i.$apply()},n.__open=function(r,i,s){j(function(){n.__compile(i,s),s&&s.getPosition?n.open(r,s):s&&s instanceof google.maps.LatLng?(n.open(r),n.setPosition(s)):n.open(r)})},n},b=function(q,x,k,v){x.css("display","none");var y,r=c.orgAttributes(x),w=c.filter(k),m=c.getOptions(w,q),i=c.getEvents(q,w);!m.position||m.position instanceof google.maps.LatLng||(y=m.position);var o=f(m,i,x);y&&v.getGeoLocation(y).then(function(l){o.setPosition(l),o.__open(v.map,q,l);var e=k.geoCallback;e&&h(e)(q)}),v.addObject("infoWindows",o),v.observeAttrSetObj(r,k,o),q.$on("mapInitialized",function(e,p){if(o.visible&&o.__open(p,q),o.visibleOnMarker){var l=o.visibleOnMarker;o.__open(p,q,p.markers[l])}}),q.showInfoWindow=function(l,u,s){var e=v.map.infoWindows[u],p=s?s:this.getPosition?this:null;e.__open(v.map,q,p)},q.hideInfoWindow=q.hideInfoWindow||function(p,l){var s=v.map.infoWindows[l];s.close()}};return{restrict:"E",require:"^map",link:b}};a.$inject=["Attr2Options","$compile","$timeout","$parse"],angular.module("ngMap").directive("infoWindow",a)}(),function(){angular.module("ngMap").directive("kmlLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.KmlLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("kmlLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("kmlLayers",g)})}}}])}(),function(){angular.module("ngMap").directive("mapData",["Attr2Options",function(b){var a=b;return{restrict:"E",require:"^map",link:function(g,j,h){var d=a.filter(h),f=a.getOptions(d),c=a.getEvents(g,d,c);g.$on("mapInitialized",function(k,p){for(var m in f){if(m){var e=f[m];"function"==typeof g[e]?p.data[m](g[e]):p.data[m](e)}}for(var l in c){c[l]&&p.data.addListener(l,c[l])}})}}}])}(),function(){var g,d,j,h,c=function(o,k,m){var e=m.mapLazyLoadParams||m.mapLazyLoad;if(window.lazyLoadCallback=function(){g(function(){k.html(h),d(k.contents())(o)},100)},void 0===window.google||void 0===window.google.maps){var l=document.createElement("script");l.src=e+(e.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.body.appendChild(l)}else{k.html(h),d(k.contents())(o)}},f=function(i,a){return !a.mapLazyLoad&&void 0,h=i.html(),j=a.mapLazyLoad,document.querySelector('script[src="'+j+(j.indexOf("?")>-1?"&":"?")+'callback=lazyLoadCallback"]')?!1:(i.html(""),{pre:c})},b=function(e,a){return d=e,g=a,{compile:f}};b.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",b)}(),function(){angular.module("ngMap").directive("mapType",["Attr2Options","$window",function(b,a){return{restrict:"E",require:"^map",link:function(h,k,j,d){var g,c=j.name;if(!c){throw"invalid map-type name"}if(j.object){var f=h[j.object]?h:a;g=f[j.object],"function"==typeof g&&(g=new g)}if(!g){throw"invalid map-type object"}h.$on("mapInitialized",function(l,i){i.mapTypes.set(c,g)}),d.addObject("mapTypes",g)}}}])}(),function(){function b(d,c){var f;return d.currentStyle?f=d.currentStyle[c]:window.getComputedStyle&&(f=document.defaultView.getComputedStyle(d,null).getPropertyValue(c)),f}var a=function(d,g,f){var c=d,e=function(y,h,w,z){var v=c.orgAttributes(h);y.google=google;var x=document.createElement("div");x.style.width="100%",x.style.height="100%",h.prepend(x),"false"!==w.defaultStyle&&("block"!=b(h[0],"display")&&h.css("display","block"),b(h[0],"height").match(/^(0|auto)/)&&h.css("height","300px")),h[0].addEventListener("dragstart",function(l){return l.preventDefault(),!1});var k=function(A,s){var t=new google.maps.Map(x,{});t.markers={},t.shapes={},g(function(){google.maps.event.trigger(t,"resize")}),A.zoom=A.zoom||15;var m=A.center;m?m instanceof google.maps.LatLng||(delete A.center,z.getGeoLocation(m).then(function(l){t.setCenter(l);var p=w.geoCallback;p&&f(p)(y)},function(){t.setCenter(n.geoFallbackCenter)})):A.center=new google.maps.LatLng(0,0),t.setOptions(A);for(var u in s){u&&google.maps.event.addListener(t,u,s[u])}z.observeAttrSetObj(v,w,t),z.map=t,z.addObjects(z._objects),y.map=t,y.map.scope=y,google.maps.event.addListenerOnce(t,"idle",function(){y.$emit("mapInitialized",t),w.zoomToIncludeMarkers&&(z.zoomToIncludeMarkers(),"auto"==w.zoomToIncludeMarkers&&y.$on("objectChanged",function(p,l){"markers"==l[0]&&z.zoomToIncludeMarkers()}))})},i=c.filter(w),n=c.getOptions(i,y),q=c.getControlOptions(i),o=angular.extend(n,q),j=c.getEvents(y,i);w.initEvent?y.$on(w.initEvent,function(){!z.map&&k(o,j)}):k(o,j)};return{restrict:"AE",controller:"MapController",link:e}};angular.module("ngMap").directive("map",["Attr2Options","$timeout","$parse",a])}(),function(){var a=function(h,d,k,j,c){var g=c,b=this,f=function(l,i,m){l.$observe(i,function(p){if(p){var q=g.camelCase("set-"+i),n=g.toOptionValue(p,{key:i});m[q]&&(i.match(/center|position/)&&"string"==typeof n?b.getGeoLocation(n).then(function(o){m[q](o)}):m[q](n))}})};this.map=null,this._objects=[],this.addObject=function(e,l){if(this.map){this.map[e]=this.map[e]||{};var i=Object.keys(this.map[e]).length;this.map[e][l.id||i]=l,"infoWindows"!=e&&l.setMap&&l.setMap&&l.setMap(this.map),l.centered&&l.position&&this.map.setCenter(l.position),h.$emit("objectChanged",[e,this.map[e]])}else{l.groupName=e,this._objects.push(l)}},this.deleteObject=function(l,p){if(p.map){var m=p.map[l];for(var e in m){m[e]===p&&delete m[e]}p.map&&p.setMap&&p.setMap(null),h.$emit("objectChanged",[l,this.map[l]])}},this.addObjects=function(l){for(var i=0;i<l.length;i++){var m=l[i];m instanceof google.maps.Marker?this.addObject("markers",m):m instanceof google.maps.Circle||m instanceof google.maps.Polygon||m instanceof google.maps.Polyline||m instanceof google.maps.Rectangle||m instanceof google.maps.GroundOverlay?this.addObject("shapes",m):this.addObject(m.groupName,m)}},this.getGeoLocation=function(m){var l=d.defer();return !m||m.match(/^current/i)?k.getCurrentPosition().then(function(p){var i=p.coords.latitude,r=p.coords.longitude,q=new google.maps.LatLng(i,r);l.resolve(q)},function(i){l.reject(i)}):j.geocode({address:m}).then(function(i){l.resolve(i[0].geometry.location)},function(i){l.reject(i)}),l.promise},this.observeAttrSetObj=function(p,m,r){var q=g.getAttrsToObserve(p);Object.keys(q).length;for(var l=0;l<q.length;l++){f(m,q[l],r)}},this.zoomToIncludeMarkers=function(){var l=new google.maps.LatLngBounds;for(var i in this.map.markers){l.extend(this.map.markers[i].getPosition())}this.map.fitBounds(l)}};a.$inject=["$scope","$q","NavigatorGeolocation","GeoCoder","Attr2Options"],angular.module("ngMap").controller("MapController",a)}(),function(){angular.module("ngMap").directive("mapsEngineLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.visualization.MapsEngineLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(k,l,g,j){var d=a.filter(g),h=a.getOptions(d),m=a.getEvents(k,d,m),f=c(h,m);j.addObject("mapsEngineLayers",f)}}}])}(),function(){var b=function(g,d){var j;if(g.icon instanceof Object){(""+g.icon.path).match(/^[A-Z_]+$/)&&(g.icon.path=google.maps.SymbolPath[g.icon.path]);for(var h in g.icon){var c=g.icon[h];"anchor"==h||"origin"==h?g.icon[h]=new google.maps.Point(c[0],c[1]):("size"==h||"scaledSize"==h)&&(g.icon[h]=new google.maps.Size(c[0],c[1]))}}g.position instanceof google.maps.LatLng||(g.position=new google.maps.LatLng(0,0)),j=new google.maps.Marker(g),Object.keys(d).length>0;for(var f in d){f&&google.maps.event.addListener(j,f,d[f])}return j},a=function(d,f){var e=d,c=function(w,m,h,q){var x,o=e.orgAttributes(m),v=e.filter(h),k=e.getOptions(v,w),j=e.getEvents(w,v);k.position instanceof google.maps.LatLng||(x=k.position);var n=b(k,j);q.addObject("markers",n),x&&q.getGeoLocation(x).then(function(g){n.setPosition(g),k.centered&&n.map.setCenter(g);var i=h.geoCallback;i&&f(i)(w)}),q.observeAttrSetObj(o,h,n),m.bind("$destroy",function(){q.deleteObject("markers",n)})};return{restrict:"E",require:"^map",link:c}};a.$inject=["Attr2Options","$parse"],angular.module("ngMap").directive("marker",a)}(),function(){angular.module("ngMap").directive("overlayMapType",["Attr2Options","$window",function(b,a){return{restrict:"E",require:"^map",link:function(h,k,j,d){var g,c=j.initMethod||"insertAt";if(j.object){var f=h[j.object]?h:a;g=f[j.object],"function"==typeof g&&(g=new g)}if(!g){throw"invalid map-type object"}h.$on("mapInitialized",function(l,i){if("insertAt"==c){var m=parseInt(j.index,10);i.overlayMapTypes.insertAt(m,g)}else{"push"==c&&i.overlayMapTypes.push(g)}}),d.addObject("overlayMapTypes",g)}}}])}(),function(){var a=function(c,b){var f=c,d=function(n,j,m,g){var t=f.filter(m),w=f.getOptions(t),q=f.getEvents(n,t),v=new google.maps.places.Autocomplete(j[0],w);for(var k in q){google.maps.event.addListener(v,k,q[k])}var h=function(){b(function(){g&&g.$setViewValue(j.val())},100)};google.maps.event.addListener(v,"place_changed",h),j[0].addEventListener("change",h),m.$observe("types",function(l){if(l){var i=f.toOptionValue(l,{key:"types"});v.setTypes(i)}})};return{restrict:"A",require:"?ngModel",link:d}};a.$inject=["Attr2Options","$timeout"],angular.module("ngMap").directive("placesAutoComplete",a)}(),function(){var b=function(d){return new google.maps.LatLngBounds(d[0],d[1])},a=function(p,f){var e,h=p.name;if(delete p.name,p.icons){for(var d=0;d<p.icons.length;d++){var k=p.icons[d];k.icon.path.match(/^[A-Z_]+$/)&&(k.icon.path=google.maps.SymbolPath[k.icon.path])}}switch(h){case"circle":p.center instanceof google.maps.LatLng||(p.center=new google.maps.LatLng(0,0)),e=new google.maps.Circle(p);break;case"polygon":e=new google.maps.Polygon(p);break;case"polyline":e=new google.maps.Polyline(p);break;case"rectangle":p.bounds&&(p.bounds=b(p.bounds)),e=new google.maps.Rectangle(p);break;case"groundOverlay":case"image":var q=p.url,j=b(p.bounds),m={opacity:p.opacity,clickable:p.clickable,id:p.id};e=new google.maps.GroundOverlay(q,j,m)}for(var g in f){f[g]&&google.maps.event.addListener(e,g,f[g])}return e},c=function(f,h){var g=f,d=function(q,n,j,w){var y,v,x=g.orgAttributes(n),m=g.filter(j),k=g.getOptions(m),o=g.getEvents(q,m);v=k.name,k.center instanceof google.maps.LatLng||(y=k.center);var t=a(k,o);w.addObject("shapes",t),y&&"circle"==v&&w.getGeoLocation(y).then(function(e){t.setCenter(e),t.centered&&t.map.setCenter(e);var i=j.geoCallback;i&&h(i)(q)}),w.observeAttrSetObj(x,j,t),n.bind("$destroy",function(){w.deleteObject("shapes",t)})};return{restrict:"E",require:"^map",link:d}};c.$inject=["Attr2Options","$parse"],angular.module("ngMap").directive("shape",c)}(),function(){var a=function(c){var b=c,f=function(k,h,m){var l,g;h.container&&(g=document.getElementById(h.container),g=g||document.querySelector(h.container)),g?l=new google.maps.StreetViewPanorama(g,h):(l=k.getStreetView(),l.setOptions(h));for(var j in m){j&&google.maps.event.addListener(l,j,m[j])}return l},d=function(m,n,j){var l=(b.orgAttributes(n),b.filter(j)),g=b.getOptions(l),k=b.getControlOptions(l),p=angular.extend(g,k),h=b.getEvents(m,l);m.$on("mapInitialized",function(s,r){var u=f(r,p,h);r.setStreetView(u),!u.getPosition()&&u.setPosition(r.getCenter()),google.maps.event.addListener(u,"position_changed",function(){u.getPosition()!==r.getCenter()&&r.setCenter(u.getPosition())});var q=google.maps.event.addListener(r,"center_changed",function(){u.setPosition(r.getCenter()),google.maps.event.removeListener(q)})})};return{restrict:"E",require:"^map",link:d}};a.$inject=["Attr2Options"],angular.module("ngMap").directive("streetViewPanorama",a)}(),function(){angular.module("ngMap").directive("trafficLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.TrafficLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("trafficLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("trafficLayers",g)})}}}])}(),function(){angular.module("ngMap").directive("transitLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.TransitLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("transitLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("transitLayers",g)})}}}])}(),function(){angular.module("ngMap").directive("weatherLayer",["Attr2Options",function(b){var a=b,c=function(f,d){var h=new google.maps.weather.WeatherLayer(f);for(var g in d){google.maps.event.addListener(h,g,d[g])}return h};return{restrict:"E",require:"^map",link:function(j,f,h,d){var m=a.orgAttributes(f),p=a.filter(h),k=a.getOptions(p),n=a.getEvents(j,p),g=c(k,n);d.addObject("weatherLayers",g),d.observeAttrSetObj(m,h,g),f.bind("$destroy",function(){d.deleteObject("weatherLayers",g)})}}}])}();