describe("GeoCoder",function(){var b,a;beforeEach(module("ngMap"));beforeEach(inject(function(c,d){b=c,a=d;google.maps.Geocoder=jasmine.createSpy()}));describe("geocode function",function(){it("Should return a promise",function(){var c=function(e,f){f("GOOD","OK")};google.maps.Geocoder.prototype.geocode=jasmine.createSpy().andCallFake(c);var d=a.geocode("Canada");expect(typeof d.then).toBe("function")});it("Should call geocoder.geocode to retrieve good results",function(){var d=function(e,f){f("GOOD","OK")};google.maps.Geocoder.prototype.geocode=jasmine.createSpy().andCallFake(d);var c=jasmine.createSpy();a.geocode("Canada").then(c);b.$apply();expect(c).toHaveBeenCalledWith("GOOD")});it("Should call geocoder.geocode to retrieve  bad results",function(){var e=function(f,g){g("BAD","ERROR")};google.maps.Geocoder.prototype.geocode=jasmine.createSpy().andCallFake(e);var d=jasmine.createSpy();var c=jasmine.createSpy();a.geocode("Canada").then(d,c);b.$apply();expect(d).not.toHaveBeenCalled();expect(c).toHaveBeenCalledWith("Geocoder failed due to: ERROR")})})});