(function(){angular.module("ngMap").directive("weatherLayer",["Attr2Options",function(a){var c=a;var b=function(e,g){var f=new google.maps.weather.WeatherLayer(e);for(var d in g){google.maps.event.addListener(f,d,g[d])}return f};return{restrict:"E",require:"^map",link:function(j,f,i,d){var e=c.orgAttributes(f);var h=c.filter(i);var l=c.getOptions(h);var k=c.getEvents(j,h);console.log("weather-layer options",l,"events",k);var g=b(l,k);d.addObject("weatherLayers",g);d.observeAttrSetObj(e,i,g);f.bind("$destroy",function(){d.deleteObject("weatherLayers",g)})}}}])})();