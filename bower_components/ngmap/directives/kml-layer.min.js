(function(){angular.module("ngMap").directive("kmlLayer",["Attr2Options",function(b){var c=b;var a=function(e,f){var g=new google.maps.KmlLayer(e);for(var d in f){google.maps.event.addListener(g,d,f[d])}return g};return{restrict:"E",require:"^map",link:function(j,g,i,d){var e=c.orgAttributes(g);var h=c.filter(i);var l=c.getOptions(h);var k=c.getEvents(j,h);console.log("kml-layer options",f,"events",k);var f=a(l,k);d.addObject("kmlLayers",f);d.observeAttrSetObj(e,i,f);g.bind("$destroy",function(){d.deleteObject("kmlLayers",f)})}}}])})();