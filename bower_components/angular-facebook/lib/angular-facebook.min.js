(function(e,c,f){var d={};var a={sdk:false,ready:false};var b;c.module("facebook",[]).value("settings",d).value("flags",a).provider("Facebook",[function(){d.appId=null;this.setAppId=function(g){d.appId=g};this.getAppId=function(){return d.appId};d.locale="en_US";this.setLocale=function(g){d.locale=g};this.getLocale=function(){return d.locale};d.status=true;this.setStatus=function(g){d.status=g};this.getStatus=function(){return d.status};d.channelUrl=null;this.setChannel=function(g){d.channelUrl=g};this.getChannel=function(){return d.channelUrl};d.cookie=true;this.setCookie=function(g){d.cookie=g};this.getCookie=function(){return d.cookie};d.xfbml=true;this.setXfbml=function(g){d.xfbml=g};this.getXfbml=function(){return d.xfbml};this.setAuthResponse=function(g){d.authResponse=g||true};this.getAuthResponse=function(){return d.authResponse};d.frictionlessRequests=false;this.setFrictionlessRequests=function(g){d.frictionlessRequests=g};this.getFrictionlessRequests=function(){return d.frictionlessRequests};d.hideFlashCallback=null;this.setHideFlashCallback=function(g){d.hideFlashCallback=g||null};this.getHideFlashCallback=function(){return d.hideFlashCallback};this.setInitCustomOption=function(g,h){if(!c.isString(g)){return false}d[g]=h;return d[g]};this.getInitOption=function(g){if(!c.isString(g)||!d.hasOwnProperty(g)){return false}return d[g]};d.loadSDK=true;this.setLoadSDK=function(g){d.loadSDK=!!g};this.getLoadSDK=function(){return d.loadSDK};d.version="v2.0";this.setSdkVersion=function(g){d.version=g};this.getSdkVersion=function(){return d.version};this.init=function(h,g){if(c.isString(h)){d.appId=h||d.appId}if(c.isObject(h)){c.extend(d,h)}if(c.isDefined(g)){d.loadSDK=!!g}};this.$get=["$q","$rootScope","$timeout","$window",function(h,g,i,k){function j(){this.appId=d.appId}j.prototype.isReady=function(){return a.ready};j.prototype.login=function(){var n=h.defer(),l=Array.prototype.slice.call(arguments),o,m;c.forEach(l,function(p,q){if(c.isFunction(p)){o=p;m=q}});if(c.isFunction(o)&&c.isNumber(m)){l.splice(m,1,function(p){i(function(){if(c.isUndefined(p.error)){n.resolve(p)}else{n.reject(p)}if(c.isFunction(o)){o(p)}})})}if(this.isReady()){k.FB.login.apply(k.FB,l)}else{i(function(){n.reject("Facebook.login() called before Facebook SDK has loaded.")})}return n.promise};c.forEach(["logout","api","ui","getLoginStatus"],function(l){j.prototype[l]=function(){var o=h.defer(),m=Array.prototype.slice.call(arguments),p,n;c.forEach(m,function(q,r){if(c.isFunction(q)){p=q;n=r}});if(c.isFunction(p)&&c.isNumber(n)){m.splice(n,1,function(q){i(function(){if(q&&typeof q.error==="undefined"){o.resolve(q)}else{o.reject(q)}if(c.isFunction(p)){p(q)}})})}i(function(){b.promise.then(function(){k.FB[l].apply(FB,m)},function(){throw"Facebook API could not be initialized properly"})});return o.promise}});j.prototype.parseXFBML=function(){var l=h.defer();i(function(){b.promise.then(function(){k.FB.XFBML.parse();l.resolve()},function(){throw"Facebook API could not be initialized properly"})});return l.promise};j.prototype.subscribe=function(){var n=h.defer(),l=Array.prototype.slice.call(arguments),o,m;c.forEach(l,function(p,q){if(c.isFunction(p)){o=p;m=q}});if(c.isFunction(o)&&c.isNumber(m)){l.splice(m,1,function(p){i(function(){if(p&&typeof p.error==="undefined"){n.resolve(p)}else{n.reject(p)}if(c.isFunction(o)){o(p)}})})}i(function(){b.promise.then(function(){k.FB.Event.subscribe.apply(FB,l)},function(){throw"Facebook API could not be initialized properly"})});return n.promise};j.prototype.unsubscribe=function(){var n=h.defer(),l=Array.prototype.slice.call(arguments),o,m;c.forEach(l,function(p,q){if(c.isFunction(p)){o=p;m=q}});if(c.isFunction(o)&&c.isNumber(m)){l.splice(m,1,function(p){i(function(){if(p&&typeof p.error==="undefined"){n.resolve(p)}else{n.reject(p)}if(c.isFunction(o)){o(p)}})})}i(function(){b.promise.then(function(){k.FB.Event.unsubscribe.apply(FB,l)},function(){throw"Facebook API could not be initialized properly"})});return n.promise};return new j()}]}]).run(["$rootScope","$q","$window","$timeout",function(g,h,m,i){b=h.defer();var l=d.loadSDK;delete (d.loadSDK);m.fbAsyncInit=function(){i(function(){if(!d.appId){throw"Missing appId setting."}FB.init(d);a.ready=true;c.forEach({"auth.login":"login","auth.logout":"logout","auth.prompt":"prompt","auth.sessionChange":"sessionChange","auth.statusChange":"statusChange","auth.authResponseChange":"authResponseChange","xfbml.render":"xfbmlRender","edge.create":"like","edge.remove":"unlike","comment.create":"comment","comment.remove":"uncomment"},function(n,o){FB.Event.subscribe(o,function(p){i(function(){g.$broadcast("Facebook:"+n,p)})})});g.$broadcast("Facebook:load");b.resolve(FB)})};(function k(){var n=document.getElementById("fb-root");if(!n){n=document.createElement("div");n.id="fb-root";document.body.insertBefore(n,document.body.childNodes[0])}return n})();if(l){(function j(){var o="//connect.facebook.net/"+d.locale+"/sdk.js",n=document.createElement("script");n.id="facebook-jssdk";n.async=true;if(["file","file:"].indexOf(m.location.protocol)!==-1){o="https:"+o}n.src=o;n.onload=function(){a.sdk=true};document.getElementsByTagName("head")[0].appendChild(n)})()}}])})(window,angular);